# Lab 6 - Working with Ansible AD-HOC Commands and Playbooks

# get machine info

```bash
$ vagrant global-status

id       name    provider   state   directory                                
-----------------------------------------------------------------------------
c4eed3b  master  virtualbox running /home/o0xwolf/GitHub-SSD/k8s-on-premises 
02fb6d1  worker1 virtualbox running /home/o0xwolf/GitHub-SSD/k8s-on-premises 
a9305a2  worker2 virtualbox running /home/o0xwolf/GitHub-SSD/k8s-on-premises 
 
The above shows information about all known Vagrant environments
on this machine. This data is cached and may not be completely
up-to-date (use "vagrant global-status --prune" to prune invalid
entries). To interact with any of the machines, you can go to that
directory and run Vagrant, or you can use the ID directly with
Vagrant commands from any directory. For example:
"vagrant destroy 1a2b3c4d"

# `vagrant ssh-config id` to get all info
$ vagrant ssh-config a9305a2

Host worker2
  HostName 127.0.0.1
  User vagrant
  Port 2201
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile /home/o0xwolf/GitHub-SSD/k8s-on-premises/.vagrant/machines/worker2/virtualbox/private_key
  IdentitiesOnly yes
  LogLevel FATAL
  PubkeyAcceptedKeyTypes +ssh-rsa
  HostKeyAlgorithms +ssh-rsa
```

This lab demonstrates Ansible automation for package management, service control, and command execution using both ad-hoc commands and playbooks with variables and loops.

## Part 1 - Ansible AD-HOC Commands

### Check Connectivity

```bash
$ ansible all -m ping

WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
master | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker2 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
```

### Package Installation

```bash
$ ansible all -m package -a "name=nginx state=present" --become
```

<details>
   <summary><h2> output </h2></summary>

```bash
[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker2 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "cache_update_time": 1760744769,
    "cache_updated": false,
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nSuggested packages:\n  libgd-tools fcgiwrap nginx-doc ssl-cert\nThe following NEW packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx nginx-common nginx-core\n0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2694 kB of archives.\nAfter this operation, 8346 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]\nGet:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]\nGet:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]\nGet:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]\nGet:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]\nGet:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]\nGet:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]\nGet:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]\nGet:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]\nGet:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]\nGet:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]\nGet:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]\nGet:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]\nGet:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]\nGet:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]\nGet:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]\nGet:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]\nGet:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]\nPreconfiguring packages ...\nFetched 2694 kB in 4s (617 kB/s)\nSelecting previously unselected package fonts-dejavu-core.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64340 files and directories currently installed.)\r\nPreparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...\r\nUnpacking fonts-dejavu-core (2.37-2build1) ...\r\nSelecting previously unselected package fontconfig-config.\r\nPreparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...\r\nUnpacking fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libdeflate0:amd64.\r\nPreparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...\r\nUnpacking libdeflate0:amd64 (1.10-2) ...\r\nSelecting previously unselected package libfontconfig1:amd64.\r\nPreparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...\r\nUnpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libjpeg-turbo8:amd64.\r\nPreparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...\r\nUnpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSelecting previously unselected package libjpeg8:amd64.\r\nPreparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...\r\nUnpacking libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSelecting previously unselected package libjbig0:amd64.\r\nPreparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...\r\nUnpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSelecting previously unselected package libwebp7:amd64.\r\nPreparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libtiff5:amd64.\r\nPreparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...\r\nUnpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSelecting previously unselected package libxpm4:amd64.\r\nPreparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libgd3:amd64.\r\nPreparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...\r\nUnpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSelecting previously unselected package nginx-common.\r\nPreparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...\r\nUnpacking nginx-common (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-geoip2.\r\nPreparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-image-filter.\r\nPreparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-xslt-filter.\r\nPreparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-mail.\r\nPreparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream.\r\nPreparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream-geoip2.\r\nPreparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx-core.\r\nPreparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx-core (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx (1.18.0-6ubuntu14.7) ...\r\nSetting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSetting up libdeflate0:amd64 (1.10-2) ...\r\nSetting up nginx-common (1.18.0-6ubuntu14.7) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.\r\nSetting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSetting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up fonts-dejavu-core (2.37-2build1) ...\r\nSetting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSetting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSetting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSetting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSetting up fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSetting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSetting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSetting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up nginx-core (1.18.0-6ubuntu14.7) ...\r\n * Upgrading binary nginx       \u001b[80G \r\u001b[74G[ OK ]\r\nSetting up nginx (1.18.0-6ubuntu14.7) ...\r\nProcessing triggers for ufw (0.36.1-4ubuntu0.1) ...\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nProcessing triggers for libc-bin (2.35-0ubuntu3.11) ...\r\n\nRunning kernel seems to be up-to-date.\n\nNo services need to be restarted.\n\nNo containers need to be restarted.\n\nNo user sessions are running outdated binaries.\n\nNo VM guests are running outdated hypervisor (qemu) binaries on this host.\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following additional packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Suggested packages:",
        "  libgd-tools fcgiwrap nginx-doc ssl-cert",
        "The following NEW packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx nginx-common nginx-core",
        "0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.",
        "Need to get 2694 kB of archives.",
        "After this operation, 8346 kB of additional disk space will be used.",
        "Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]",
        "Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]",
        "Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]",
        "Get:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]",
        "Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]",
        "Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]",
        "Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]",
        "Get:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]",
        "Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]",
        "Get:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]",
        "Get:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]",
        "Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]",
        "Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]",
        "Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]",
        "Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]",
        "Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]",
        "Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]",
        "Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]",
        "Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]",
        "Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]",
        "Preconfiguring packages ...",
        "Fetched 2694 kB in 4s (617 kB/s)",
        "Selecting previously unselected package fonts-dejavu-core.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64340 files and directories currently installed.)",
        "Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...",
        "Unpacking fonts-dejavu-core (2.37-2build1) ...",
        "Selecting previously unselected package fontconfig-config.",
        "Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...",
        "Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libdeflate0:amd64.",
        "Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...",
        "Unpacking libdeflate0:amd64 (1.10-2) ...",
        "Selecting previously unselected package libfontconfig1:amd64.",
        "Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...",
        "Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libjpeg-turbo8:amd64.",
        "Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...",
        "Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Selecting previously unselected package libjpeg8:amd64.",
        "Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...",
        "Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Selecting previously unselected package libjbig0:amd64.",
        "Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...",
        "Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Selecting previously unselected package libwebp7:amd64.",
        "Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libtiff5:amd64.",
        "Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...",
        "Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Selecting previously unselected package libxpm4:amd64.",
        "Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libgd3:amd64.",
        "Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...",
        "Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Selecting previously unselected package nginx-common.",
        "Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...",
        "Unpacking nginx-common (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-geoip2.",
        "Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-image-filter.",
        "Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-xslt-filter.",
        "Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-mail.",
        "Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream.",
        "Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream-geoip2.",
        "Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx-core.",
        "Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx-core (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx.",
        "Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx (1.18.0-6ubuntu14.7) ...",
        "Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Setting up libdeflate0:amd64 (1.10-2) ...",
        "Setting up nginx-common (1.18.0-6ubuntu14.7) ...",
        "Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.",
        "Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up fonts-dejavu-core (2.37-2build1) ...",
        "Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up nginx-core (1.18.0-6ubuntu14.7) ...",
        " * Upgrading binary nginx       \u001b[80G ",
        "\u001b[74G[ OK ]",
        "Setting up nginx (1.18.0-6ubuntu14.7) ...",
        "Processing triggers for ufw (0.36.1-4ubuntu0.1) ...",
        "Processing triggers for man-db (2.10.2-1) ...",
        "Processing triggers for libc-bin (2.35-0ubuntu3.11) ...",
        "",
        "Running kernel seems to be up-to-date.",
        "",
        "No services need to be restarted.",
        "",
        "No containers need to be restarted.",
        "",
        "No user sessions are running outdated binaries.",
        "",
        "No VM guests are running outdated hypervisor (qemu) binaries on this host."
    ]
}
[WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "cache_update_time": 1760744353,
    "cache_updated": false,
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nSuggested packages:\n  libgd-tools fcgiwrap nginx-doc ssl-cert\nThe following NEW packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx nginx-common nginx-core\n0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2694 kB of archives.\nAfter this operation, 8346 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]\nGet:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]\nGet:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]\nGet:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]\nGet:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]\nGet:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]\nGet:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]\nGet:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]\nGet:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]\nGet:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]\nGet:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]\nGet:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]\nGet:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]\nGet:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]\nGet:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]\nGet:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]\nGet:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]\nGet:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]\nPreconfiguring packages ...\nFetched 2694 kB in 5s (520 kB/s)\nSelecting previously unselected package fonts-dejavu-core.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64340 files and directories currently installed.)\r\nPreparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...\r\nUnpacking fonts-dejavu-core (2.37-2build1) ...\r\nSelecting previously unselected package fontconfig-config.\r\nPreparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...\r\nUnpacking fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libdeflate0:amd64.\r\nPreparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...\r\nUnpacking libdeflate0:amd64 (1.10-2) ...\r\nSelecting previously unselected package libfontconfig1:amd64.\r\nPreparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...\r\nUnpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libjpeg-turbo8:amd64.\r\nPreparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...\r\nUnpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSelecting previously unselected package libjpeg8:amd64.\r\nPreparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...\r\nUnpacking libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSelecting previously unselected package libjbig0:amd64.\r\nPreparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...\r\nUnpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSelecting previously unselected package libwebp7:amd64.\r\nPreparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libtiff5:amd64.\r\nPreparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...\r\nUnpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSelecting previously unselected package libxpm4:amd64.\r\nPreparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libgd3:amd64.\r\nPreparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...\r\nUnpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSelecting previously unselected package nginx-common.\r\nPreparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...\r\nUnpacking nginx-common (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-geoip2.\r\nPreparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-image-filter.\r\nPreparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-xslt-filter.\r\nPreparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-mail.\r\nPreparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream.\r\nPreparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream-geoip2.\r\nPreparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx-core.\r\nPreparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx-core (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx (1.18.0-6ubuntu14.7) ...\r\nSetting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSetting up libdeflate0:amd64 (1.10-2) ...\r\nSetting up nginx-common (1.18.0-6ubuntu14.7) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.\r\nSetting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSetting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up fonts-dejavu-core (2.37-2build1) ...\r\nSetting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSetting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSetting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSetting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSetting up fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSetting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSetting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSetting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up nginx-core (1.18.0-6ubuntu14.7) ...\r\n * Upgrading binary nginx       \u001b[80G \r\u001b[74G[ OK ]\r\nSetting up nginx (1.18.0-6ubuntu14.7) ...\r\nProcessing triggers for ufw (0.36.1-4ubuntu0.1) ...\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nProcessing triggers for libc-bin (2.35-0ubuntu3.11) ...\r\n\nRunning kernel seems to be up-to-date.\n\nNo services need to be restarted.\n\nNo containers need to be restarted.\n\nNo user sessions are running outdated binaries.\n\nNo VM guests are running outdated hypervisor (qemu) binaries on this host.\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following additional packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Suggested packages:",
        "  libgd-tools fcgiwrap nginx-doc ssl-cert",
        "The following NEW packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx nginx-common nginx-core",
        "0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.",
        "Need to get 2694 kB of archives.",
        "After this operation, 8346 kB of additional disk space will be used.",
        "Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]",
        "Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]",
        "Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]",
        "Get:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]",
        "Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]",
        "Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]",
        "Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]",
        "Get:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]",
        "Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]",
        "Get:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]",
        "Get:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]",
        "Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]",
        "Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]",
        "Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]",
        "Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]",
        "Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]",
        "Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]",
        "Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]",
        "Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]",
        "Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]",
        "Preconfiguring packages ...",
        "Fetched 2694 kB in 5s (520 kB/s)",
        "Selecting previously unselected package fonts-dejavu-core.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64340 files and directories currently installed.)",
        "Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...",
        "Unpacking fonts-dejavu-core (2.37-2build1) ...",
        "Selecting previously unselected package fontconfig-config.",
        "Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...",
        "Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libdeflate0:amd64.",
        "Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...",
        "Unpacking libdeflate0:amd64 (1.10-2) ...",
        "Selecting previously unselected package libfontconfig1:amd64.",
        "Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...",
        "Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libjpeg-turbo8:amd64.",
        "Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...",
        "Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Selecting previously unselected package libjpeg8:amd64.",
        "Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...",
        "Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Selecting previously unselected package libjbig0:amd64.",
        "Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...",
        "Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Selecting previously unselected package libwebp7:amd64.",
        "Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libtiff5:amd64.",
        "Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...",
        "Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Selecting previously unselected package libxpm4:amd64.",
        "Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libgd3:amd64.",
        "Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...",
        "Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Selecting previously unselected package nginx-common.",
        "Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...",
        "Unpacking nginx-common (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-geoip2.",
        "Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-image-filter.",
        "Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-xslt-filter.",
        "Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-mail.",
        "Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream.",
        "Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream-geoip2.",
        "Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx-core.",
        "Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx-core (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx.",
        "Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx (1.18.0-6ubuntu14.7) ...",
        "Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Setting up libdeflate0:amd64 (1.10-2) ...",
        "Setting up nginx-common (1.18.0-6ubuntu14.7) ...",
        "Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.",
        "Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up fonts-dejavu-core (2.37-2build1) ...",
        "Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up nginx-core (1.18.0-6ubuntu14.7) ...",
        " * Upgrading binary nginx       \u001b[80G ",
        "\u001b[74G[ OK ]",
        "Setting up nginx (1.18.0-6ubuntu14.7) ...",
        "Processing triggers for ufw (0.36.1-4ubuntu0.1) ...",
        "Processing triggers for man-db (2.10.2-1) ...",
        "Processing triggers for libc-bin (2.35-0ubuntu3.11) ...",
        "",
        "Running kernel seems to be up-to-date.",
        "",
        "No services need to be restarted.",
        "",
        "No containers need to be restarted.",
        "",
        "No user sessions are running outdated binaries.",
        "",
        "No VM guests are running outdated hypervisor (qemu) binaries on this host."
    ]
}
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
master | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "cache_update_time": 1760743390,
    "cache_updated": false,
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nSuggested packages:\n  libgd-tools fcgiwrap nginx-doc ssl-cert\nThe following NEW packages will be installed:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx nginx-common nginx-core\n0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2694 kB of archives.\nAfter this operation, 8346 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]\nGet:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]\nGet:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]\nGet:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]\nGet:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]\nGet:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]\nGet:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]\nGet:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]\nGet:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]\nGet:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]\nGet:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]\nGet:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]\nGet:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]\nGet:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]\nGet:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]\nGet:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]\nGet:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]\nGet:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]\nPreconfiguring packages ...\nFetched 2694 kB in 5s (575 kB/s)\nSelecting previously unselected package fonts-dejavu-core.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64340 files and directories currently installed.)\r\nPreparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...\r\nUnpacking fonts-dejavu-core (2.37-2build1) ...\r\nSelecting previously unselected package fontconfig-config.\r\nPreparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...\r\nUnpacking fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libdeflate0:amd64.\r\nPreparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...\r\nUnpacking libdeflate0:amd64 (1.10-2) ...\r\nSelecting previously unselected package libfontconfig1:amd64.\r\nPreparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...\r\nUnpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSelecting previously unselected package libjpeg-turbo8:amd64.\r\nPreparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...\r\nUnpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSelecting previously unselected package libjpeg8:amd64.\r\nPreparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...\r\nUnpacking libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSelecting previously unselected package libjbig0:amd64.\r\nPreparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...\r\nUnpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSelecting previously unselected package libwebp7:amd64.\r\nPreparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libtiff5:amd64.\r\nPreparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...\r\nUnpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSelecting previously unselected package libxpm4:amd64.\r\nPreparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...\r\nUnpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSelecting previously unselected package libgd3:amd64.\r\nPreparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...\r\nUnpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSelecting previously unselected package nginx-common.\r\nPreparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...\r\nUnpacking nginx-common (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-geoip2.\r\nPreparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-image-filter.\r\nPreparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-http-xslt-filter.\r\nPreparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-mail.\r\nPreparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream.\r\nPreparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package libnginx-mod-stream-geoip2.\r\nPreparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx-core.\r\nPreparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx-core (1.18.0-6ubuntu14.7) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...\r\nUnpacking nginx (1.18.0-6ubuntu14.7) ...\r\nSetting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...\r\nSetting up libdeflate0:amd64 (1.10-2) ...\r\nSetting up nginx-common (1.18.0-6ubuntu14.7) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.\r\nSetting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...\r\nSetting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up fonts-dejavu-core (2.37-2build1) ...\r\nSetting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...\r\nSetting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...\r\nSetting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libjpeg8:amd64 (8c-2ubuntu10) ...\r\nSetting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...\r\nSetting up fontconfig-config (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...\r\nSetting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...\r\nSetting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...\r\nSetting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...\r\nSetting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...\r\nSetting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...\r\nSetting up nginx-core (1.18.0-6ubuntu14.7) ...\r\n * Upgrading binary nginx       \u001b[80G \r\u001b[74G[ OK ]\r\nSetting up nginx (1.18.0-6ubuntu14.7) ...\r\nProcessing triggers for ufw (0.36.1-4ubuntu0.1) ...\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nProcessing triggers for libc-bin (2.35-0ubuntu3.11) ...\r\n\nRunning kernel seems to be up-to-date.\n\nNo services need to be restarted.\n\nNo containers need to be restarted.\n\nNo user sessions are running outdated binaries.\n\nNo VM guests are running outdated hypervisor (qemu) binaries on this host.\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following additional packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Suggested packages:",
        "  libgd-tools fcgiwrap nginx-doc ssl-cert",
        "The following NEW packages will be installed:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx nginx-common nginx-core",
        "0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.",
        "Need to get 2694 kB of archives.",
        "After this operation, 8346 kB of additional disk space will be used.",
        "Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]",
        "Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]",
        "Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]",
        "Get:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]",
        "Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]",
        "Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]",
        "Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]",
        "Get:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]",
        "Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]",
        "Get:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]",
        "Get:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]",
        "Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]",
        "Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]",
        "Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]",
        "Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]",
        "Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]",
        "Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]",
        "Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]",
        "Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]",
        "Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]",
        "Preconfiguring packages ...",
        "Fetched 2694 kB in 5s (575 kB/s)",
        "Selecting previously unselected package fonts-dejavu-core.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64340 files and directories currently installed.)",
        "Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...",
        "Unpacking fonts-dejavu-core (2.37-2build1) ...",
        "Selecting previously unselected package fontconfig-config.",
        "Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...",
        "Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libdeflate0:amd64.",
        "Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...",
        "Unpacking libdeflate0:amd64 (1.10-2) ...",
        "Selecting previously unselected package libfontconfig1:amd64.",
        "Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...",
        "Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Selecting previously unselected package libjpeg-turbo8:amd64.",
        "Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...",
        "Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Selecting previously unselected package libjpeg8:amd64.",
        "Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...",
        "Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Selecting previously unselected package libjbig0:amd64.",
        "Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...",
        "Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Selecting previously unselected package libwebp7:amd64.",
        "Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libtiff5:amd64.",
        "Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...",
        "Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Selecting previously unselected package libxpm4:amd64.",
        "Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...",
        "Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Selecting previously unselected package libgd3:amd64.",
        "Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...",
        "Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Selecting previously unselected package nginx-common.",
        "Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...",
        "Unpacking nginx-common (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-geoip2.",
        "Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-image-filter.",
        "Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-http-xslt-filter.",
        "Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-mail.",
        "Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream.",
        "Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package libnginx-mod-stream-geoip2.",
        "Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx-core.",
        "Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx-core (1.18.0-6ubuntu14.7) ...",
        "Selecting previously unselected package nginx.",
        "Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...",
        "Unpacking nginx (1.18.0-6ubuntu14.7) ...",
        "Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...",
        "Setting up libdeflate0:amd64 (1.10-2) ...",
        "Setting up nginx-common (1.18.0-6ubuntu14.7) ...",
        "Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.",
        "Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...",
        "Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up fonts-dejavu-core (2.37-2build1) ...",
        "Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...",
        "Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...",
        "Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libjpeg8:amd64 (8c-2ubuntu10) ...",
        "Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...",
        "Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...",
        "Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...",
        "Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...",
        "Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...",
        "Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...",
        "Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...",
        "Setting up nginx-core (1.18.0-6ubuntu14.7) ...",
        " * Upgrading binary nginx       \u001b[80G ",
        "\u001b[74G[ OK ]",
        "Setting up nginx (1.18.0-6ubuntu14.7) ...",
        "Processing triggers for ufw (0.36.1-4ubuntu0.1) ...",
        "Processing triggers for man-db (2.10.2-1) ...",
        "Processing triggers for libc-bin (2.35-0ubuntu3.11) ...",
        "",
        "Running kernel seems to be up-to-date.",
        "",
        "No services need to be restarted.",
        "",
        "No containers need to be restarted.",
        "",
        "No user sessions are running outdated binaries.",
        "",
        "No VM guests are running outdated hypervisor (qemu) binaries on this host."
    ]
}
```
</details>

### Verify Installation

```bash
$ ansible all -m command -a "nginx -v"

[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker2 | CHANGED | rc=0 >>
nginx version: nginx/1.18.0 (Ubuntu)
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
master | CHANGED | rc=0 >>
nginx version: nginx/1.18.0 (Ubuntu)
[WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker1 | CHANGED | rc=0 >>
nginx version: nginx/1.18.0 (Ubuntu)
```

### Remove Package

```bash
$ ansible all -m package -a "name=nginx state=absent" --become
```

<details>
   <summary><h2> output </h2></summary>
```bash
[WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following packages were automatically installed and are no longer required:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nUse 'sudo apt autoremove' to remove them.\nThe following packages will be REMOVED:\n  nginx\n0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.\nAfter this operation, 50.2 kB disk space will be freed.\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64582 files and directories currently installed.)\r\nRemoving nginx (1.18.0-6ubuntu14.7) ...\r\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following packages were automatically installed and are no longer required:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Use 'sudo apt autoremove' to remove them.",
        "The following packages will be REMOVED:",
        "  nginx",
        "0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.",
        "After this operation, 50.2 kB disk space will be freed.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64582 files and directories currently installed.)",
        "Removing nginx (1.18.0-6ubuntu14.7) ..."
    ]
}
[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker2 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following packages were automatically installed and are no longer required:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nUse 'sudo apt autoremove' to remove them.\nThe following packages will be REMOVED:\n  nginx\n0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.\nAfter this operation, 50.2 kB disk space will be freed.\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64582 files and directories currently installed.)\r\nRemoving nginx (1.18.0-6ubuntu14.7) ...\r\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following packages were automatically installed and are no longer required:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Use 'sudo apt autoremove' to remove them.",
        "The following packages will be REMOVED:",
        "  nginx",
        "0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.",
        "After this operation, 50.2 kB disk space will be freed.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64582 files and directories currently installed.)",
        "Removing nginx (1.18.0-6ubuntu14.7) ..."
    ]
}
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
master | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following packages were automatically installed and are no longer required:\n  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3\n  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2\n  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter\n  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5\n  libwebp7 libxpm4 nginx-common nginx-core\nUse 'sudo apt autoremove' to remove them.\nThe following packages will be REMOVED:\n  nginx\n0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.\nAfter this operation, 50.2 kB disk space will be freed.\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64582 files and directories currently installed.)\r\nRemoving nginx (1.18.0-6ubuntu14.7) ...\r\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following packages were automatically installed and are no longer required:",
        "  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3",
        "  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2",
        "  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter",
        "  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5",
        "  libwebp7 libxpm4 nginx-common nginx-core",
        "Use 'sudo apt autoremove' to remove them.",
        "The following packages will be REMOVED:",
        "  nginx",
        "0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.",
        "After this operation, 50.2 kB disk space will be freed.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 64582 files and directories currently installed.)",
        "Removing nginx (1.18.0-6ubuntu14.7) ..."
    ]
}
```
</details>

## Part 2 - Playbook with Variables and Loops

### Run the Package Management Playbook

```bash
$ ansible-playbook playbook.yml


PLAY [Package Management with Variables and Loops] ****************************************************************************************

TASK [Gathering Facts] ********************************************************************************************************************
[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
ok: [worker2]
[WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
ok: [worker1]
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
ok: [master]

TASK [Remove main web package] ************************************************************************************************************
ok: [worker1]
ok: [worker2]
ok: [master]

TASK [Install development tools] **********************************************************************************************************
ok: [worker1] => (item=git)
ok: [worker2] => (item=git)
ok: [master] => (item=git)
ok: [worker1] => (item=curl)
ok: [worker2] => (item=curl)
ok: [master] => (item=curl)
ok: [worker1] => (item=wget)
ok: [worker2] => (item=wget)
ok: [master] => (item=wget)
ok: [worker1] => (item=vim)
ok: [worker2] => (item=vim)
ok: [master] => (item=vim)

TASK [Install web package] ****************************************************************************************************************
changed: [worker2]
changed: [worker1]
changed: [master]

TASK [Start and enable nginx service] *****************************************************************************************************
ok: [worker1]
ok: [master]
ok: [worker2]

TASK [Check nginx version] ****************************************************************************************************************
changed: [master]
changed: [worker1]
changed: [worker2]

TASK [Display nginx version] **************************************************************************************************************
ok: [master] => {
    "nginx_version.stdout": ""
}
ok: [worker1] => {
    "nginx_version.stdout": ""
}
ok: [worker2] => {
    "nginx_version.stdout": ""
}

PLAY RECAP ********************************************************************************************************************************
master                     : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
worker1                    : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
worker2                    : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

```

### Verify Service Status

```bash
$ ansible all -m service -a "name=nginx state=started" --become
```

<details>
   <summary><h2> output </h2></summary>

```bash
[WARNING]: Host 'worker2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker2 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "name": "nginx",
    "status": {
        "ActiveEnterTimestamp": "Tue 2025-10-21 13:15:46 UTC",
        "ActiveEnterTimestampMonotonic": "1316379693",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "basic.target systemd-journald.socket sysinit.target network.target nss-lookup.target system.slice",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Tue 2025-10-21 13:15:46 UTC",
        "AssertTimestampMonotonic": "1316346588",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "90885000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Tue 2025-10-21 13:15:46 UTC",
        "ConditionTimestampMonotonic": "1316346578",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/nginx.service",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "A high performance web server and a reverse proxy server",
        "DevicePolicy": "auto",
        "Documentation": "\"man:nginx(8)\"",
        "DynamicUser": "no",
        "EffectiveCPUs": "0-1",
        "EffectiveMemoryNodes": "0",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "7947",
        "ExecMainStartTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "ExecMainStartTimestampMonotonic": "1318753499",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:46 UTC] ; stop_time=[Tue 2025-10-21 13:15:46 UTC] ; pid=7818 ; code=exited ; status=0 }",
        "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:46 UTC] ; stop_time=[Tue 2025-10-21 13:15:46 UTC] ; pid=7818 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:46 UTC] ; stop_time=[Tue 2025-10-21 13:15:46 UTC] ; pid=7817 ; code=exited ; status=0 }",
        "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:46 UTC] ; stop_time=[Tue 2025-10-21 13:15:46 UTC] ; pid=7817 ; code=exited ; status=0 }",
        "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/nginx.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "nginx.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Tue 2025-10-21 13:15:46 UTC",
        "InactiveExitTimestampMonotonic": "1316352961",
        "InvocationID": "77844edda5104c0197393984f82ea2f9",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7691",
        "LimitNPROCSoft": "7691",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7691",
        "LimitSIGPENDINGSoft": "7691",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "7947",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "7454720",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "nginx.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/nginx.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Tue 2025-10-21 13:15:46 UTC",
        "StateChangeTimestampMonotonic": "1316379693",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "3",
        "TasksMax": "2307",
        "TimeoutAbortUSec": "5s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "5s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
[WARNING]: Host 'master' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
master | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "name": "nginx",
    "status": {
        "ActiveEnterTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "ActiveEnterTimestampMonotonic": "1465195315",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "nss-lookup.target network.target sysinit.target basic.target systemd-journald.socket system.slice",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "AssertTimestampMonotonic": "1465145583",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "93153000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "ConditionTimestampMonotonic": "1465145574",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/nginx.service",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "A high performance web server and a reverse proxy server",
        "DevicePolicy": "auto",
        "Documentation": "\"man:nginx(8)\"",
        "DynamicUser": "no",
        "EffectiveCPUs": "0-1",
        "EffectiveMemoryNodes": "0",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "9354",
        "ExecMainStartTimestamp": "Tue 2025-10-21 13:15:53 UTC",
        "ExecMainStartTimestampMonotonic": "1469974947",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:48 UTC] ; stop_time=[Tue 2025-10-21 13:15:48 UTC] ; pid=9234 ; code=exited ; status=0 }",
        "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:48 UTC] ; stop_time=[Tue 2025-10-21 13:15:48 UTC] ; pid=9234 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:48 UTC] ; stop_time=[Tue 2025-10-21 13:15:48 UTC] ; pid=9233 ; code=exited ; status=0 }",
        "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:48 UTC] ; stop_time=[Tue 2025-10-21 13:15:48 UTC] ; pid=9233 ; code=exited ; status=0 }",
        "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/nginx.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "nginx.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "InactiveExitTimestampMonotonic": "1465153914",
        "InvocationID": "0115c498c7614395b0c5a3335b0af8ea",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7691",
        "LimitNPROCSoft": "7691",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7691",
        "LimitSIGPENDINGSoft": "7691",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "9354",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "7454720",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "nginx.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/nginx.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Tue 2025-10-21 13:15:48 UTC",
        "StateChangeTimestampMonotonic": "1465195315",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "3",
        "TasksMax": "2307",
        "TimeoutAbortUSec": "5s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "5s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
[WARNING]: Host 'worker1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.
worker1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "name": "nginx",
    "status": {
        "ActiveEnterTimestamp": "Tue 2025-10-21 13:15:47 UTC",
        "ActiveEnterTimestampMonotonic": "1390211545",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "system.slice network.target systemd-journald.socket sysinit.target nss-lookup.target basic.target",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Tue 2025-10-21 13:15:47 UTC",
        "AssertTimestampMonotonic": "1390168395",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "103661000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Tue 2025-10-21 13:15:47 UTC",
        "ConditionTimestampMonotonic": "1390168388",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/nginx.service",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "A high performance web server and a reverse proxy server",
        "DevicePolicy": "auto",
        "Documentation": "\"man:nginx(8)\"",
        "DynamicUser": "no",
        "EffectiveCPUs": "0-1",
        "EffectiveMemoryNodes": "0",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "8364",
        "ExecMainStartTimestamp": "Tue 2025-10-21 13:15:49 UTC",
        "ExecMainStartTimestampMonotonic": "1392646820",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:47 UTC] ; stop_time=[Tue 2025-10-21 13:15:47 UTC] ; pid=8264 ; code=exited ; status=0 }",
        "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:47 UTC] ; stop_time=[Tue 2025-10-21 13:15:47 UTC] ; pid=8264 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2025-10-21 13:15:47 UTC] ; stop_time=[Tue 2025-10-21 13:15:47 UTC] ; pid=8261 ; code=exited ; status=0 }",
        "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Tue 2025-10-21 13:15:47 UTC] ; stop_time=[Tue 2025-10-21 13:15:47 UTC] ; pid=8261 ; code=exited ; status=0 }",
        "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/nginx.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "nginx.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Tue 2025-10-21 13:15:47 UTC",
        "InactiveExitTimestampMonotonic": "1390174163",
        "InvocationID": "480603b965a6474c95fcc3d5908a019a",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7691",
        "LimitNPROCSoft": "7691",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7691",
        "LimitSIGPENDINGSoft": "7691",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "8364",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "7483392",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "nginx.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/nginx.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Tue 2025-10-21 13:15:47 UTC",
        "StateChangeTimestampMonotonic": "1390211545",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "3",
        "TasksMax": "2307",
        "TimeoutAbortUSec": "5s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "5s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
```
</details>

### Check Installed Packages

```bash
$ 


```

### Test Web Server Functionality

```bash
$ ansible all -m uri -a "url=http://localhost method=GET"

192.168.56.11 | SUCCESS => {
    "accept_ranges": "bytes",
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "connection": "close",
    "content": "<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>...",
    "content_length": "615",
    "content_type": "text/html",
    "cookies": {},
    "cookies_string": "",
    "date": "Tue, 21 Oct 2025 14:30:45 GMT",
    "elapsed": 0,
    "etag": "\"6154-5e5b1b0e4c640\"",
    "last_modified": "Tue, 25 Oct 2022 15:03:04 GMT",
    "msg": "OK (615 bytes)",
    "redirected": false,
    "server": "nginx/1.20.1",
    "status": 200,
    "url": "http://localhost"
}
192.168.56.12 | SUCCESS => {
    "accept_ranges": "bytes",
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "connection": "close",
    "content": "<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>...",
    "content_length": "615",
    "content_type": "text/html",
    "cookies": {},
    "cookies_string": "",
    "date": "Tue, 21 Oct 2025 14:30:45 GMT",
    "elapsed": 0,
    "etag": "\"6154-5e5b1b0e4c640\"",
    "last_modified": "Tue, 25 Oct 2022 15:03:04 GMT",
    "msg": "OK (615 bytes)",
    "redirected": false,
    "server": "nginx/1.20.1",
    "status": 200,
    "url": "http://localhost"
}
192.168.56.13 | SUCCESS => {
    "accept_ranges": "bytes",
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "connection": "close",
    "content": "<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>...",
    "content_length": "615",
    "content_type": "text/html",
    "cookies": {},
    "cookies_string": "",
    "date": "Tue, 21 Oct 2025 14:30:45 GMT",
    "elapsed": 0,
    "etag": "\"6154-5e5b1b0e4c640\"",
    "last_modified": "Tue, 25 Oct 2022 15:03:04 GMT",
    "msg": "OK (615 bytes)",
    "redirected": false,
    "server": "nginx/1.20.1",
    "status": 200,
    "url": "http://localhost"
}
```

## Cleanup

```bash
$ ansible all -m service -a "name=nginx state=stopped" --become
$ ansible all -m package -a "name=nginx state=absent" --become
$ ansible all -m package -a "name=git,curl,wget,vim state=absent" --become
```